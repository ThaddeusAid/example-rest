#!/usr/bin/env lein-exec-p
(require '[clojure.tools.cli :as cli]
         '[clj-logging-config.log4j :as log-config]
         '[example-rest-api.client :as client]
         '[example-rest-api.util :as util])


(log-config/set-logger!)

(let [[options args banner] (cli/cli *command-line-args*
  ["-h" "--help" "Show Help"
    :default false :flag true]
  ["-b" "--base-url" "Base URL of the REST API server"
    :default "http://localhost:8080"])]
  (when (util/show-help? options)
    (println banner)
    (System/exit 0))
  (client/get-hello (options :base-url)))
